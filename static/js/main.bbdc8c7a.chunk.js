(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(46),r=a.n(s),i=a(13),o=a(12),l=a(25),d=a(9),j=a(14),b=a(3),m=function(e){var t=e.dataItem;return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("img",{className:"card-img-top",src:t.img,alt:"Marvel"}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:t.titulo}),Object(b.jsx)("p",{className:"card-text",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Recusandae atque sed voluptatum delectus. Rerum aut facere quia a voluptatum quaerat."}),Object(b.jsxs)("h4",{className:"precio",children:["$",t.precio]}),Object(b.jsx)(i.b,{to:"/detalle/".concat(t.id),children:Object(b.jsx)("button",{className:"btn btn-dark btnCompra",children:"Detalle"})})]})]})},u=function(e){var t=e.dataProductos;return t.sort((function(e,t){return e.orden-t.orden})),Object(b.jsx)("section",{className:"containerCard",children:t.map((function(e){return Object(b.jsx)(m,{dataItem:e},e.id)}))})},O=a(37),h=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),r=Object(d.a)(s,2),i=r[0],m=r[1],h=Object(o.g)(),x=h.idCategoria,f=h.idFase;return Object(c.useEffect)((function(){if(f){var e=Object(j.f)(),t=Object(j.h)(Object(j.b)(e,"items"),Object(j.i)("fase","==",f));Object(j.e)(t).then((function(e){return n(e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)}))}else if(x){var a=Object(j.f)(),c=Object(j.h)(Object(j.b)(a,"items"),Object(j.i)("categoria","==",x));Object(j.e)(c).then((function(e){return n(e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)}))}else{var s=Object(j.f)(),r=Object(j.h)(Object(j.b)(s,"items"),Object(j.g)("orden","asc"));Object(j.e)(r).then((function(e){return n(e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)}))}}),[x,f]),Object(b.jsx)(b.Fragment,{children:i?Object(b.jsx)("div",{className:"spinner",children:Object(b.jsx)(O.BeatLoader,{})}):Object(b.jsx)(u,{dataProductos:a})})},x=a(22),f=Object(c.createContext)([]),p=function(){return Object(c.useContext)(f)},v=function(e){var t=e.children,a=Object(c.useState)([]),n=Object(d.a)(a,2),s=n[0],r=n[1];return Object(b.jsx)(f.Provider,{value:{cartList:s,agregarAlCarrito:function(e){var t=s.findIndex((function(t){return t.id===e.id}));if(t>-1){var a=s[t].cantidad+e.cantidad;s[t].cantidad=a;var c=Object(x.a)(s);r(c)}else r([].concat(Object(x.a)(s),[e]))},vaciarCarrito:function(){r([])},deleteItem:function(e){var t=s.filter((function(t){return t.id!==e}));r(t)},totalPagar:function(){var e=0;return s.forEach((function(t){e+=t.precio*t.cantidad})),e},totalCarrito:function(){var e=0;return s.forEach((function(t){e+=t.cantidad})),e}},children:t})},g=function(){var e=p(),t=e.totalCarrito,a=e.cartList,n=Object(c.useState)(!0),s=Object(d.a)(n,2),r=s[0],i=s[1];return Object(c.useEffect)((function(){a.length>0?i(!1):i(!0)}),[a]),Object(b.jsx)("div",{children:Object(b.jsxs)("button",{type:"button",className:"btn btn-outline-secondary cart",children:[Object(b.jsx)("div",{children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-cart text-ligh",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})}),r?Object(b.jsx)("span",{}):Object(b.jsx)("span",{className:"circle",children:t()})]})})},N=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("header",{className:"container-fluid",children:[Object(b.jsx)(i.b,{to:"/",children:Object(b.jsx)("img",{src:"/ecommerce/logo.png",alt:"Marvel",className:"logo"})}),Object(b.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"/",className:"nav-link active","aria-current":"page",href:"#",children:"Inicio"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"/fase",className:"nav-link",href:"#",children:"Universo Cinematografico"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"fase/FaseUno",className:"nav-link",href:"#",children:"Fase Uno"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"fase/FaseDos",className:"nav-link",href:"#",children:"Fase Dos"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"fase/FaseTres",className:"nav-link",href:"#",children:"Fase Tres"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"/fase/FaseCuatro",className:"nav-link",href:"#",children:"Fase Cuatro"})}),Object(b.jsxs)("li",{className:"nav-item dropdown",children:[Object(b.jsx)("button",{className:"nav-link btn btn-dark dropdown-toggle",id:"navbarDropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Categoria"}),Object(b.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/categoria/pelicula",className:"dropdown-item",children:"Peliculas"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/categoria/serie",className:"dropdown-item",children:"Series"})})]})]})]})})]}),Object(b.jsx)(i.b,{to:"/cart",children:Object(b.jsx)(g,{})})]})]})})},k=function(e){var t=e.stock,a=e.initial,n=e.onAdd,s=Object(c.useState)(a),r=Object(d.a)(s,2),i=r[0],o=r[1],l=Object(c.useState)(t),j=Object(d.a)(l,2),m=j[0],u=j[1],O=Object(c.useState)(!0),h=Object(d.a)(O,2),x=h[0],f=h[1],p=Object(c.useState)(!0),v=Object(d.a)(p,2),g=v[0],N=v[1];return Object(c.useEffect)((function(){1===i?f(!1):i>t&&N(!1)}),[t,i]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"containerCount",children:Object(b.jsxs)("div",{className:"gap-2 contentCount",children:[Object(b.jsx)("button",{className:"btn btn-dark",type:"button",onClick:function(){o(i-1),u(m+1),N(!0)},disabled:!x,children:"-"}),Object(b.jsx)("span",{className:"text-center casillaCount",children:i}),Object(b.jsx)("button",{className:"btn btn-dark",type:"button",onClick:function(){o(i+1),u(m-1),f(!0)},disabled:!g,children:"+"}),Object(b.jsxs)("h6",{className:"mt-1",children:["Disponible - ",m]})]})}),Object(b.jsx)("button",{className:"btn btn-dark btn-compra",type:"button",onClick:function(){return n(i)},children:"Agregar al Carrito"})]})},C=function(e){var t=e.informacion,a=p().agregarAlCarrito,n=Object(c.useState)(!0),s=Object(d.a)(n,2),r=s[0],o=s[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"card mb-3 container containerDetalle",children:Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("img",{src:t.img,alt:t.titulo,className:"img-fluid rounded-start"})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:t.titulo}),Object(b.jsx)("p",{className:"card-text",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Voluptas ea, laudantium aliquid esse aut officiis optio possimus, totam officia corporis voluptates."}),Object(b.jsxs)("div",{className:"card-text",children:[Object(b.jsx)("h4",{className:"",children:t.descripcion}),Object(b.jsxs)("h4",{className:"precio",children:["$",t.precio]}),r?Object(b.jsx)(k,{initial:1,stock:5,onAdd:function(e){o(!1),a(Object(l.a)(Object(l.a)({},t),{},{cantidad:e}))}}):Object(b.jsxs)("div",{className:"endContinue",children:[Object(b.jsx)(i.b,{to:"/cart",children:Object(b.jsx)("button",{className:"btn btn-dark btn-compra",type:"button",children:"Terminar la Compra"})}),Object(b.jsx)(i.b,{to:"/fase",children:Object(b.jsx)("button",{className:"btn btn-dark btn-compra",type:"button",children:"Seguir Comprando"})})]})]})]})})]})})})},w=function(){var e=Object(c.useState)({}),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!0),r=Object(d.a)(s,2),i=r[0],m=r[1],u=Object(o.g)().idDetalle;return Object(c.useEffect)((function(){setTimeout((function(){var e=Object(j.f)(),t=Object(j.c)(e,"items",u);Object(j.d)(t).then((function(e){return n(Object(l.a)({id:e.id},e.data()))})),m(!1)}),2e3)}),[u]),Object(b.jsx)("div",{children:i?Object(b.jsx)("div",{className:"spinner",children:Object(b.jsx)(O.BeatLoader,{})}):Object(b.jsx)(C,{informacion:a})})},y=function(){var e=p(),t=e.cartList,a=e.vaciarCarrito,n=e.deleteItem,s=e.totalPagar,r=Object(c.useState)(!0),o=Object(d.a)(r,2),l=o[0],j=o[1];return Object(c.useEffect)((function(){t.length>0?j(!1):j(!0)}),[t]),Object(b.jsx)(b.Fragment,{children:l?Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container card cajaVacio",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-emoji-frown mb-2",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(b.jsx)("path",{d:"M4.285 12.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"})]}),Object(b.jsx)("p",{className:"card-text",children:"\xa1El carrito est\xe1 vacio!"}),Object(b.jsx)(i.b,{to:"/",className:"btn btn-dark",children:"Ve a la Tienda"})]})})}):Object(b.jsxs)(b.Fragment,{children:[t.map((function(e){return Object(b.jsxs)("ul",{className:"list-group container mt-2 productosAgregados",children:[Object(b.jsxs)("li",{className:"list-group-item listaCarrito",children:[e.titulo,Object(b.jsx)("button",{onClick:function(){return n(e.id)},type:"btn",className:"btn delete",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-x-square",children:[Object(b.jsx)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(b.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})})]}),Object(b.jsxs)("li",{className:"list-group-item listaCarrito cantidadAgregada",children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:"Cantidad:"})," ",e.cantidad]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:"Precio:"})," $",e.precio]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:"Subtotal:"})," $",e.cantidad*e.precio]})]})]},e.id)})),Object(b.jsx)("div",{className:"container d-flex justify-content-center mt-4",children:Object(b.jsxs)("h3",{children:["Total: $",s()]})}),Object(b.jsxs)("div",{className:"container vaciarFinalizar",children:[Object(b.jsx)("button",{onClick:a,className:"btn btn-dark vaciar",children:"Vaciar Carrito"}),Object(b.jsx)(i.b,{to:"/orden",className:"btn btn-dark",children:"Realizar Pedido"})]})]})})},S=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(b.jsx)("div",{className:"containerVideo",children:a?Object(b.jsx)("video",{src:"/ecommerce/inicio/videoInicio.mp4",muted:"muted",autoPlay:!0,controls:!0,className:"videoInicio",onEnded:function(){n(!1)}}):Object(b.jsx)("img",{src:"/ecommerce/inicio/banner.jpg",alt:"Banner"})})},A=a(47),F=a.n(A),z=a(51),E=function(){var e=p(),t=e.cartList,a=e.totalPagar,c=e.vaciarCarrito;return Object(b.jsx)(z.a,{initialValues:{nombre:"",email:"",telefono:"",checked:""},validate:function(e){var t={};return e.nombre?/^[a-zA-Z\xc0-\xff\s]{1,40}$/.test(e.nombre)||(t.nombre="El nombre debe contener solo letras"):t.nombre="El nombre es obligatorio",e.email?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)||(t.email="El email solo puede contener letras, numeros, puntos, guines"):t.email="El email es obligatorio",e.telefono?/^(\d{10})$/.test(e.telefono)||(t.telefono="El numero de telefono debe tener al menos 10 digitos"):t.telefono="El numero de telefono es obligatorio",e.checked||(t.checked="Debe estar de acuerdo con los terminos y condiciones"),t},onSubmit:function(e,n){var s=n.resetForm,r={};r.buyer=e,r.total=a(),r.items=t.map((function(e){return{id:e.id,nombre:e.titulo,subtotal:e.precio*e.cantidad,cantidad:e.cantidad}}));var i=Object(j.f)(),o=Object(j.b)(i,"ordenes");Object(j.a)(o,r).then((function(e){F()({title:"\xa1Tu compra ha sido confirmada!",text:"Numero de orden: "+e.id,icon:"success",button:"Finalizar"})})).catch((function(e){return console.log(e)})),setTimeout((function(){s(),c()}),2e3)},children:function(e){var t=e.handleSubmit,a=e.handleChange,c=e.values,n=e.handleBlur,s=e.errors,r=e.touched;return Object(b.jsxs)("form",{className:"container",onSubmit:t,children:[Object(b.jsxs)("div",{className:"form-group mt-2",children:[Object(b.jsx)("label",{htmlFor:"nombreApellido",children:"Nombre y Apellido"}),Object(b.jsx)("input",{type:"text",className:"form-control mt-1",id:"nombreApellido",onChange:a,onBlur:n,name:"nombre",value:c.nombre}),r.nombre&&s.nombre&&Object(b.jsx)("p",{className:"text-danger",children:s.nombre})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{type:"email",className:"form-control mt-1",id:"email",onChange:a,onBlur:n,name:"email",value:c.email}),r.email&&s.email&&Object(b.jsx)("p",{className:"text-danger",children:s.email})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(b.jsx)("input",{type:"number",className:"form-control mt-1",id:"telefono",onChange:a,onBlur:n,name:"telefono",value:c.telefono}),r.telefono&&s.telefono&&Object(b.jsx)("p",{className:"text-danger",children:s.telefono})]}),Object(b.jsxs)("div",{className:"form-check mt-3",children:[Object(b.jsx)("label",{htmlFor:"checked",children:"Acepto los Terminos y Condiciones"}),Object(b.jsx)("input",{type:"checkbox",className:"form-check-input",id:"checked",onChange:a,onBlur:n,name:"checked",value:c.checked}),r.checked&&s.checked&&Object(b.jsx)("p",{className:"text-danger",children:s.checked})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-dark mt-3",children:"Generar Orden"}),Object(b.jsx)(i.b,{to:"/cart",className:"btn btn-dark mt-3 modificarP",children:"Modificar Pedido"})]})}})},D=function(){return Object(b.jsx)(v,{children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(N,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",element:Object(b.jsx)(S,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/fase",element:Object(b.jsx)(h,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/categoria/:idCategoria",element:Object(b.jsx)(h,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/fase/:idFase",element:Object(b.jsx)(h,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/detalle/:idDetalle",element:Object(b.jsx)(w,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/cart",element:Object(b.jsx)(y,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/orden",element:Object(b.jsx)(E,{})})]})]})})},L=(a(88),a(50));Object(L.a)({apiKey:"AIzaSyDXSmHRNqAjnTz5CFJDBjRR6kNeHAtXj3I",authDomain:"ecommerce-jc.firebaseapp.com",projectId:"ecommerce-jc",storageBucket:"ecommerce-jc.appspot.com",messagingSenderId:"164282104159",appId:"1:164282104159:web:7f79a2b23e49fe01519eea"});r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.bbdc8c7a.chunk.js.map